import{E as L,n as U,l as H}from"./el-button-aiRlPCOE.js";import{E as P,a as R}from"./el-input-CwcG6A6c.js";import{_ as F,u as M,r as p,c as O,a as l,w as r,b as t,i as _,d as a,e as T,o as j,f as k,p as q,g as A,h as D}from"./index-CRWTDvlB.js";import{u as J,E as $,d as G}from"./el-loading-C6RC_sXJ.js";import{E as m,m as K}from"./index-D9DVeWaB.js";const b=f=>(q("data-v-fe7c6740"),f=f(),A(),f),Q={class:"container"},X={class:"homebox"},Y={class:"eyes-postion"},Z={class:"eyes"},ee=b(()=>t("div",{class:"title"},[t("h1",null,"欢迎使用m-eth钱包！"),t("p",null,"即将去进入去中心化网络")],-1)),se={class:"btnBox"},oe=b(()=>t("span",null,"导入钱包",-1)),te={class:"zhuangzhan"},le={class:"dialog-footer"},ae=b(()=>t("span",null,"创建钱包",-1)),ne={__name:"HomeView",setup(f){const v=M(),S=()=>{v.push("/register")},y=J();let z=p(y.isLocalNull),o=p(!1),d=p(),c=p();const w=p(!1),I=async(g,e)=>{if(y.isLocalNull){const u=$.service({lock:!0,text:"正在登录,请稍后...",background:"rgba(0, 0, 0, 0.7)"});let n=g;const h=await K(n),x=G.hdkey.fromMasterSeed(h).derivePath("m/44'/60'/0'/0/0").getWallet(),N=x.getAddressString(),W=await x.toV3(e);let E=JSON.parse(y.getWalletUser()),B=E[0].address,C=E[0].keyStore;N===B?C.address===W.address?(w.value=!0,u.close(),m({message:"登陆成功",type:"success"}),v.push({path:"/wallet",query:{password:e,oldmnemonic:n}})):(u.close(),m.error("密码错误")):(u.close(),m.error("助记词错误"))}else loading.close(),m.error("还没有账号，请注册");o.value=!1};return v.beforeEach((g,e,i)=>{g.name==="wallet"?w.value?i():(m.error("请先登录"),i({name:"home"})):i()}),(g,e)=>{const i=T,u=D,n=L,h=R,V=P;return j(),O("div",Q,[l(i,null,{default:r(()=>[k("Home")]),_:1}),t("div",X,[t("div",Y,[t("div",Z,[l(u)])]),ee,t("div",se,[l(n,{type:"primary",size:"large",class:"btn btn-log",onClick:e[0]||(e[0]=s=>_(o)?o.value=!0:o=!0)},{default:r(()=>[oe]),_:1}),l(V,{modelValue:a(o),"onUpdate:modelValue":e[5]||(e[5]=s=>_(o)?o.value=s:o=s),title:"转账",width:"35%",center:""},{footer:r(()=>[t("span",le,[l(n,{onClick:e[3]||(e[3]=s=>I(a(d),a(c))),type:"primary"},{default:r(()=>[k("导入")]),_:1}),l(n,{onClick:e[4]||(e[4]=s=>_(o)?o.value=!1:o=!1)},{default:r(()=>[k("取消")]),_:1})])]),default:r(()=>[t("div",te,[l(h,{class:"t-input",modelValue:a(d),"onUpdate:modelValue":e[1]||(e[1]=s=>_(d)?d.value=s:d=s),placeholder:"请输入助记词","prefix-icon":a(U)},null,8,["modelValue","prefix-icon"]),l(h,{class:"t-input",modelValue:a(c),"onUpdate:modelValue":e[2]||(e[2]=s=>_(c)?c.value=s:c=s),placeholder:"请输入密码","prefix-icon":a(H),style:{"margin-top":"10px"}},null,8,["modelValue","prefix-icon"])])]),_:1},8,["modelValue"]),l(n,{type:"primary",size:"large",class:"btn btn-reg",onClick:S,disabled:!a(z)},{default:r(()=>[ae]),_:1},8,["disabled"])])])])}}},pe=F(ne,[["__scopeId","data-v-fe7c6740"]]);export{pe as default};
