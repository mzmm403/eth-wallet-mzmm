import{E as D}from"./el-button-aiRlPCOE.js";import{_ as P,s as F,u as G,r as C,y as H,c as i,a as y,w as g,b as r,F as p,x as E,d as O,e as U,o as m,f as v,t as l,p as z,g as J}from"./index-CRWTDvlB.js";import{u as K,E as Q,d as X}from"./el-loading-C6RC_sXJ.js";import{m as Y,E as I}from"./index-D9DVeWaB.js";/* empty css                   */const M=d=>(z("data-v-29e51f53"),d=d(),J(),d),Z=M(()=>r("div",{class:"description"},[r("p",null,"📝Tips：来验证一下你保存的助记词是否正确")],-1)),$={class:"container"},ee={class:"showdata"},te={class:"check"},se={class:"order"},oe=M(()=>r("input",{type:"text"},null,-1)),re={class:"btn"},ae={__name:"CheckView",setup(d){const _=F(),w=_.query.oldmnemonic,A=_.query.password,S=G(),c=C(_.query.mnemonic),q=K();let h=(()=>{let e=[],s=4;for(let o=0;o<s;o++){let a=Math.floor(Math.random()*12);if(e.includes(a)){s++;continue}else e.push(a)}return e})(),T=C(h.toSorted((e,s)=>e-s));const b=()=>{let e=[];for(let s=0;s<4;s++){let o=h[s];e.push(c.value[o]),c.value.splice(o,1,"")}return e};let V=b(),x={};for(let e=0;e<4;e++){let s=h[e],o=V[e];x[s]=o}H(()=>{b()});const R=async()=>{let e=document.querySelectorAll(".order"),s=document.querySelectorAll("input"),o=[],a=[];for(let t=0;t<4;t++){let u=parseInt(e[t].innerText)-1,f=s[t].value,k=x[u];o.push(f),a.push(k),f==k?s[t].outerHTML+="<span>✔️</span>":s[t].outerHTML+="<span>❌</span>"}let n=o.every((t,u)=>t===a[u]);if(o.length==a.length&&n){const t=Q.service({lock:!0,text:"正在创建新用户,请稍后...",background:"rgba(0, 0, 0, 0.7)"}),u=await Y(w),N=X.hdkey.fromMasterSeed(u).derivePath("m/44'/60'/0'/0/0").getWallet(),B=N.getAddressString(),L=await N.toV3(A);let j=[{address:B,keyStore:L}];q.saveWalletUser(j),t.close(),I({message:"验证成功，输入正确",type:"success"}),S.push({path:"/wallet",query:{password:A,oldmnemonic:w}})}else I.error("验证失败，请重新输入")},W=()=>{S.back()};return(e,s)=>{const o=U,a=D;return m(),i(p,null,[y(o,null,{default:g(()=>[v("Check Mnemonic")]),_:1}),Z,r("div",$,[r("div",ee,[(m(),i(p,null,E(4,(n,t)=>r("table",{key:n},[r("tr",null,[r("td",null,l(n*3-2)+"."+l(c.value[t*3]),1),r("td",null,l(n*3-1)+"."+l(c.value[t*3+1]),1),r("td",null,l(n*3)+"."+l(c.value[t*3+2]),1)])])),64))])]),r("div",te,[(m(!0),i(p,null,E(O(T),(n,t)=>(m(),i(p,{key:t},[r("span",se,l(n+1),1),oe],64))),128))]),r("div",re,[y(a,{class:"check-btn",type:"primary",onClick:R},{default:g(()=>[v("检查输入")]),_:1}),y(a,{class:"back",type:"primary",onClick:W},{default:g(()=>[v("返回上页")]),_:1})])],64)}}},pe=P(ae,[["__scopeId","data-v-29e51f53"]]);export{pe as default};
